<!DOCTYPE html>
<html ng-app="CTE_BOTApp">

<head>
    <title>教學評量機器人</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="UTF-8" >
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="no-cache" http-equiv="cache-control">
    <meta content="no-cache" http-equiv="pragma">
    <meta content="0" http-equiv="expires">
    <meta name="viewport" content="width=device-width, initial-scale=1 ,maximum-scale=1,user-scalable=no" />
    <link href="/atm/css/theme/angular-loading.css" rel="stylesheet">
    <link rel="stylesheet" href="../externals/Bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="../externals/jqueryui/jquery-ui.min.css">
    <link href="https://fonts.googleapis.com/css?family=Noto+Serif+TC:300,500,600,700,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/atm/css/main.css">
    <link rel="stylesheet" href="/atm/css/rwd-table.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" crossorigin="anonymous">
    <script>
        function blockui()
		{
			$.blockUI({
				message: "<i class='fa fa-spinner fa-pulse orange' style='font-size:600%'></i>", 
				//borderWidth:'0px' 和透明背景
				css: { borderWidth: '0px', backgroundColor: 'transparent' },
			});
			return true;
		}
    </script>
    <style>
        .footer {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 60px; /* Set the fixed height of the footer here */
            line-height: 60px; /* Vertically center the text there */
            background-color: #f5f5f5;
        }
       @media (max-width: 736px) 
       { 
           .div-rwd p 
            {
                text-align: left;
                font-size: 20px;
                overflow: hidden;
                width: 100%;
                display: block;
            }
            .div-rwd p:after 
            {
                /*最重要的就是這串*/
                content: attr(data-th);
                /*最重要的就是這串*/
                display: inline-block;
                text-transform: uppercase;
                font-weight: bold;
                margin-right: 10px;
                color: rgb(11, 57, 210);
            }
            .div-rwd .before:before 
            {
                /*最重要的就是這串*/
                content: attr(data-before-th) " : ";
                /*最重要的就是這串*/
                display: inline-block;
                text-transform: uppercase;
                font-weight: bold;
                margin-right: 10px;
                color: rgb(11, 57, 210);
            }
            .no-th
            {
                display:none !important;
            }
            .topgap
            {
                margin-top: 8px;
                margin-bottom: 8px;
            }
        }
    </style>
</head>

<body ng-controller="CTE_BOTCtrl">
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <a class="navbar-brand" href="/Today_Schedule">今日課表</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse"   id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <nav-normal-item class="navbar-nav"></nav-normal-item>
            </ul>
            <ul class="navbar-nav ml-auto">
                <div ng-include="'navRight.html'"></div>
            </ul>
        </div>
    </nav>
    <div class="container">
        <form action="/api/CTE_BOT" method="POST" onsubmit="return blockui();">
            <div class="row">
                <div class="col-sm-1 text-lg-center">
                    <p>學號:</p>
                </div>
                <div class="col-sm-5 text-lg-center topgap">
                    <input type="text" class="input input-lg" id="username" name="username" required>
                </div>
                <div class="col-sm-1 text-lg-center">
                    <p>密碼:</p>
                </div>
                <div class="col-sm-5 text-lg-center topgap">
                    <input type="password" class="input password input-lg" id="usernmae" name="password" required>
                </div>
            </div>
            <div class="row div-rwd">
                <div class="col-sm-1">
                    <p class="font-weight-bold text-center no-th">題號</p>
                </div>
                <div class="col-sm-4">
                    <p class="font-weight-bold text-center no-th">題目</p>
                </div>
                <div class="col-sm-2">
                    <p class="font-weight-bold text-center no-th">非常同意</p>
                </div>
                <div class="col-sm-1">
                    <p class="font-weight-bold text-center no-th">同意</p>
                </div>
                <div class="col-sm-1">
                    <p class="font-weight-bold text-center no-th">普通</p>
                </div>
                <div class="col-sm-1">
                    <p class="font-weight-bold text-center no-th">不滿意</p>
                </div>
                <div class="col-sm-2">
                    <p class="font-weight-bold text-center no-th">非常不滿意</p>
                </div>
            </div>
            
            <div ng-repeat="Item in Items">
                <div class="row div-rwd">
                    <div class="col-sm-1 font-weight-bold text-center border" >
                        <p data-before-th="題號" class="before">{{Item.Num}}</p>
                    </div>
                    <div class="col-sm-4 font-weight-bold border">
                        <p data-before-th="題目" class="before">{{Item.Question}}</p>
                    </div>
                    <div class="col-sm-2 text-center border">
                        <div class="custom-control custom-radio">
                            <input type="radio"  class="custom-control-input" name="Q_{{$index+1}}" id="E1_{{$index+1}}" value="{{Item.E1}}"> 
                            <label class="custom-control-label" for="E1_{{$index+1}}">
                                <p ng-if="$index<13" data-th="非常同意"></p>
                                <span ng-if="$index == 13">總是</span>
                            </label>
                        </div>
                    </div>
                    <div class="col-sm-1 text-center border">
                        <div class="custom-control custom-radio">
                            <input type="radio"  class="custom-control-input" name="Q_{{$index+1}}" id="E2_{{$index+1}}" value="{{Item.E2}}"> 
                            <label class="custom-control-label" for="E2_{{$index+1}}">
                                <p ng-if="$index<13" data-th="同意"></p>
                                <span ng-if="$index == 13">經常</span>
                            </label>
                        </div>
                    </div>
                    <div class="col-sm-1 text-center border">
                        <div class="custom-control custom-radio">
                            <input type="radio"  class="custom-control-input" name="Q_{{$index+1}}" id="E3_{{$index+1}}" value="{{Item.E3}}"> 
                            <label class="custom-control-label" for="E3_{{$index+1}}">
                                <p ng-if="$index<13" data-th="普通"></p>
                                <span ng-if="$index == 13">偶爾</span>
                            </label>
                        </div>
                    </div>
                    <div class="col-sm-1 text-center border">
                        <div class="custom-control custom-radio">
                            <input type="radio"  class="custom-control-input" name="Q_{{$index+1}}" id="E4_{{$index+1}}" value="{{Item.E4}}"> 
                            <label class="custom-control-label" for="E4_{{$index+1}}">
                                <p ng-if="$index<13" data-th="不同意"></p>
                                <span ng-if="$index == 13">很少</span>
                            </label>
                        </div>
                    </div>
                    <div class="col-sm-2 text-center border">
                        <div class="custom-control custom-radio">
                            <input type="radio"  class="custom-control-input" name="Q_{{$index+1}}" id="E5_{{$index+1}}" value="{{Item.E5}}"> 
                            <label class="custom-control-label" for="E5_{{$index+1}}">
                                <p ng-if="$index<13" data-th="非常不同意"></p>
                                <span ng-if="$index == 13">從不 </span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" style="margin-top: 8px;">
                <div class="col-lg-12 text-center">
                    <button class="btn btn-success btn-lg" type="submit">送出</button>
                </div>
            </div>
        </form>
    </div>
    <div ng-include="'footer.html'"></div>
</body>

</html>
<script src="../externals/angularjs/angular.min.js"></script>
<script src="../externals/jquery/jquery-1.11.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.blockUI/2.70/jquery.blockUI.min.js"></script>
<script src="../externals/Bootstrap/bootstrap.min.js"></script>
<script src="/atm/scripts/rwd-td.js"></script>
<script src="/atm/scripts/Common.js"></script>
<script src="/atm/scripts/ngCommon.js"></script>
<script src="/atm/scripts/CTE_BOT.js"></script>

<script>
    window.onload = async function() {
        /*alert('此工具已不堪使用，返回主頁');
        window.location = '/';*/
        for (var i = 1 ; i <= 13 ; i++)
        {
            $('#E1_' + i ).prop('checked' ,true);
        }
        $('#E5_14').prop('checked' , true);
        $('#loginAlert').hide();
        const urlParams = new URLSearchParams(window.location.search);
        const myParam = urlParams.get('error');
        if(myParam == "Password_Error") 
        {
            alert('帳號或密碼錯誤');
        }
        else if (myParam == "System_Error")
        {
            alert('系統錯誤，請聯繫作者');
            
        }
        else if (myParam == "Success")
        {
            alert('填寫完成');
        }
    };
    
</script>